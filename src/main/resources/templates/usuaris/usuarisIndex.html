<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<aside th:insert="fragments/header :: header"></aside>
		<title>Usuaris</title>
	</head>
	<body>
		<div class="container my-2">
			<h1>Llista d'Usuaris</h1>
				<a th:href ="@{/saveUsuaris}" class="btn btn-primary btn-sm mb-3">Alta Usuario</a>
					<table class="table table-dark table-hover table-responsive-md">
						<thead>
							<tr>
								<th>
									<a th:href="@{'/usuaris/indexPaginate/' + ${currentPage} + '?sortField=firstName&sortDir=' + ${reverseSortDir}}">
										Nombre
									</a>
								</th>
								<th>
									<a th:href="@{'/usuaris/indexPaginate/' + ${currentPage} + '?sortField=lastName&sortDir=' + ${reverseSortDir}}">
										Apellidos
									</a>
								</th>
								<th>
									<a th:href="@{'/usuaris/indexPaginate/' + ${currentPage} + '?sortField=username&sortDir=' + ${reverseSortDir}}">
										Nombre Usuario
									</a>
								</th>
								<th>
									<a th:href="@{'/usuaris/indexPaginate/' + ${currentPage} + '?sortField=email&sortDir=' + ${reverseSortDir}}">
										Email
									</a>
								</th>
								<th>Accions</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="user : ${listUser}">
								<td th:text="${user.firstName}"></td>
								<td th:text="${user.lastName}"></td>
								<td th:text="${user.username}"></td>
								<td th:text="${user.email}"></td>
								<td>
									<a th:href="@{/showFormForUpdate/{id}(id=${user.id})}" class="btn btn-primary btn-sm">Editar</a>
									<a th:href="@{/deleteUser/{id}(id=${user.id})}" class="btn btn-danger btn-sm">Eliminar</a>	
								</td>
							</tr>
						</tbody>
					</table>
					
					<div>
						<!-- Seleccion de primero y retroceder modelo clasico sin bootstrap
								con muestra de total de items y el numero de pagina que estamos --> 
<!-- 						Total Alumnes : [[${totalItems}]]  -  Pagina [[${currentPage}]] de [[${totalPages}]]  -->
<!-- 						&nbsp; - &nbsp; -->
						
<!-- 						<a th:if="${currentPage > 1}" th:href="@{'/usuaris/indexPaginate/1' + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Primero</a> -->
<!-- 						<span th:unless="${currentPage > 1}">Primero</span> -->
<!-- 						&nbsp;/&nbsp;	 -->
<!-- 						<a th:if="${currentPage > 1}" th:href="@{'/usuaris/indexPaginate/' + ${currentPage - 1} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Anterior</a> -->
<!-- 						<span th:unless="${currentPage > 1}">Anterior</span> -->
						
						<!--  -->
						
<!-- 						<span th:each="i : ${#numbers.sequence(1 , totalPages)}"> -->
<!-- 							<a th:if="${currentPage != i}" th:href="@{'/usuaris/indexPaginate/' + ${i} + '?sortField=' + ${sortField} + '&sortDir' + ${sortDir} }">[[${i}]]</a> -->
<!-- 							<span th:unless="${currentPage != i}">[[${i}]]</span> -->
<!-- 							 &nbsp;&nbsp; -->
<!-- 						</span> -->
						
						<!-- Seleccion de siguiente a ultimo modelo clasico sin bootstrap -->
<!-- 						&nbsp; -->
<!-- 						<a th:if="${currentPage < totalPages}" th:href="@{'/usuaris/indexPaginate/' + ${currentPage + 1} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Siguiente</a> -->
<!-- 						<span th:unless="${currentPage < totalPages}">Siguiente</span> -->
<!-- 						&nbsp;/&nbsp;	 -->
<!-- 						<a th:if="${currentPage < totalPages}" th:href="@{'/usuaris/indexPaginate/' + ${totalPages} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Ultimo</a> -->
<!-- 					 	<span th:unless="${currentPage < totalPages}">Ultimo</span> -->
					 	
							<!-- Version selector en Bootstrap -->
						&nbsp;&nbsp;						
						<nav aria-label="Page navigation">
					    	<ul class="pagination justify-content-center">
								<li class="page-item">
									<a class="page-link" th:if="${currentPage > 1}" th:href="@{'/usuaris/indexPaginate/' + ${currentPage - 1} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}" tabindex="-1" >Anterior</a>
<!-- 									<span th:unless="${currentPage > 1}">Anterior</span> -->
								</li>
										<span th:each="i : ${#numbers.sequence(1 , totalPages)}">
							    			<li class="page-item">
							    				<a class="page-link" th:if="${i != currentPage}" th:href="@{'/usuaris/indexPaginate/' + ${i}} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}">[[${i}]]</a>	    		
							    			</li>
							    			<li class="page-item active">
							    				<a class="page-link" th:unless="${i != currentPage}">[[${i}]]</a>
							    			</li>
							    		</span>
							    <li class="page-item">
										<a class="page-link" th:if="${currentPage < totalPages}" th:href="@{'/usuaris/indexPaginate/' + ${currentPage + 1} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Siguiente</a>
<!-- 										<span th:unless="${currentPage < totalPages}">Siguiente</span> -->
							    </li>
							</ul>
						</nav>
			
					</div>

					<div>
					<br>
						<a th:href ="@{/index}" class="btn btn-primary btn-sm mb-3">Tornar</a>
					</div>
		</div>
	
	</body>
</html>